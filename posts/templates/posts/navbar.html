{% load static %}
<link
  href="https://fonts.googleapis.com/icon?family=Material+Icons+Round"
  rel="stylesheet"
/>
<link rel="stylesheet" href="{% static 'posts/css/navbar.css' %}" />

<nav class="navbar">
  <!-- LEFT — Logo -->
  <div class="nav-left">
    <a href="/" class="nav-logo">
      <span class="material-icons-round logo-icon">filter_drama</span>
      <span class="logo-text">Crow</span>
    </a>
  </div>

  <!-- CENTER — Search -->
  <div class="nav-center">
    <div class="search-box">
      <span class="material-icons-round search-icon">search</span>
      <input
        type="text"
        id="searchBar"
        placeholder="Search posts or users..."
        autocomplete="off"
      />
      <div id="searchResults" class="search-results"></div>
    </div>
  </div>

  <!-- RIGHT — Action Icons -->
  <div class="nav-right">
    <!-- Home -->
    <a href="/" class="nav-icon">
      <span class="material-icons-round">home</span>
    </a>

    <!-- Create -->
    {% if user.is_authenticated %}
    <a href="/create/" class="nav-icon">
      <span class="material-icons-round">add_box</span>
    </a>
    {% else %}
    <a href="/login/" class="nav-icon">
      <span class="material-icons-round">add_box</span>
    </a>
    {% endif %}

    <!-- Profile Avatar + Dropdown -->
    <div class="profile-wrapper">
      <button class="nav-profile-btn">
        <img
          class="nav-avatar"
          src="https://ui-avatars.com/api/?name={{ user.username|default:'Guest' }}&background=111111&color=ffffff&size=64"
        />
      </button>

      <div class="profile-menu">
        {% if user.is_authenticated %}
        <a href="/logout/" class="pm-item logout">Logout</a>
        {% else %}
        <a href="/login/" class="pm-item">Sign In</a>
        <a href="/register/" class="pm-item">Create Account</a>
        {% endif %}
      </div>
    </div>
  </div>
</nav>

<script src="{% static 'posts/js/navbar.js' %}"></script>
