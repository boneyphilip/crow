{% load static %}

<link
  href="https://fonts.googleapis.com/icon?family=Material+Icons+Round"
  rel="stylesheet"
/>

<nav class="navbar">
  <!-- LEFT: Logo -->
  <div class="nav-left">
    <a href="/" class="nav-logo">
      <span class="material-icons-round logo-icon">filter_drama</span>
      <span class="logo-text">Crow</span>
    </a>
  </div>

  <!-- CENTER: Icons -->
  <div class="nav-center">
    <a href="/" class="nav-icon">
      <span class="material-icons-round">home</span>
    </a>

    <a id="searchIcon" class="nav-icon">
      <span class="material-icons-round">search</span>
    </a>

    {% if user.is_authenticated %}
    <a href="/create/" class="nav-icon">
      <span class="material-icons-round">add_box</span>
    </a>
    {% else %}
    <a href="/login/" class="nav-icon">
      <span class="material-icons-round">add_box</span>
    </a>
    {% endif %}
  </div>

  <!-- RIGHT: Auth -->
  <div class="nav-right">
    {% if user.is_authenticated %}
    <a href="/logout/" class="nav-auth-btn">Logout</a>
    {% else %}
    <a href="/login/" class="nav-auth-btn">Sign In</a>
    {% endif %}
  </div>

  <!-- SEARCH DROPDOWN -->
  <
  <div class="search-wrapper">
    <i class="material-icons">search</i>
    <input type="text" id="searchBar" placeholder="Search posts or users..." />
    <div id="searchResults" class="search-results"></div>
  </div>
</nav>

<!-- SEARCH JS -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const searchIcon = document.getElementById("searchIcon");
    const searchBox = document.getElementById("searchBox");

    searchIcon.addEventListener("click", () => {
      if (searchBox.classList.contains("open")) {
        searchBox.classList.remove("open");
      } else {
        searchBox.classList.add("open");
      }
    });
  });
</script>
